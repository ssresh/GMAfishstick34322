!function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var s,o,u=this,a=arguments;return s=function(){i=null,n||(r=t.apply(u,a))},o=n&&!i,clearTimeout(i),i=setTimeout(s,e),o&&(r=t.apply(u,a)),r}},throttle:function(t,e){var n,i,r,s,o,u;return o=0,u=function(){o=new Date,r=null,s=t.apply(n,i)},function(){var a=new Date,c=e-(a-o);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,o=a,s=t.apply(n,i)):r||(r=setTimeout(u,c)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),s=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||u,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function s(e){return t.parseJSON(e)}function o(t){var e,n,i=[],r=u.length;for(e=0;r>e;e++)(n=u.key(e)).match(t)&&i.push(n.replace(t,""));return i}var u;try{u=window.localStorage,u.setItem("~~~","!"),u.removeItem("~~~")}catch(a){u=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),s(this.ls.getItem(this._prefix(t)))},set:function(t,n,s){return e.isNumber(s)?this._safeSet(this._ttlKey(t),r(i()+s)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=o(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=s(this.ls.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}),n}(),o=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):u}var i=0,s={},o=6,u=new r(10);return n.setMaxPendingRequests=function(t){o=t},n.resetCache=function(){u.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),h._cache.set(a,t)}function r(){e(!0)}function u(){i--,delete s[a],h.onDeckRequestArgs&&(h._get.apply(h,h.onDeckRequestArgs),h.onDeckRequestArgs=null)}var a,c,h=this;a=this._fingerprint(t),this.cancelled||a!==this.lastReq||((c=s[a])?c.done(n).fail(r):o>i?(i++,s[a]=this._send(t).done(n).fail(r).always(u)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,s;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},s=this._fingerprint(n),this.cancelled=!1,this.lastReq=s,(r=this._cache.get(s))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),u=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[a]=[],t[u]={},t}function s(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function o(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var s=t.length,o=e.length;s>n&&o>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}var u="c",a="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,o;n.datums[s=n.identify(t)]=t,o=i(n.datumTokenizer(t)),e.each(o,function(t){var e,i,o;for(e=n.trie,i=t.split("");o=i.shift();)e=e[u][o]||(e[u][o]=r()),e[a].push(s)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,r,c=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,s;if(r&&0===r.length)return!1;for(e=c.trie,n=t.split("");e&&(i=n.shift());)e=e[u][i];return e&&0===n.length?(s=e[a].slice(0),void(r=r?o(r,s):s)):(r=[],!1)}),r?e.map(s(r),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),a=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new s(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,r.transform(e))}var i,r=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new o({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:r.transform(n))}var i,r=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),h=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(r,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?u(i.transport):t.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=s(n),n.limiter=o(n),n.transport=n.transport?u(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function s(t){function e(t,e){return e.url=s(e.url,t),e}function n(t,e){return e.url=e.url.replace(o,encodeURIComponent(t)),e}function i(t,e){return e}var r,s,o;return r=t.prepare,s=t.replace,o=t.wildcard,r?r:r=s?e:t.wildcard?n:i}function o(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var r,s,o;return r=t.limiter,s=t.rateLimitBy,o=t.rateLimitWait,r||(r=/^throttle$/i.test(s)?i(o):n(o)),r}function u(n){return function(i){function r(t){e.defer(function(){o.resolve(t)})}function s(t){e.defer(function(){o.reject(t)})}var o=t.Deferred();return n(i,r,s),o}}return function(n){var s,o;return s={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(s,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),o=n.sorter,n.sorter=o?function(t){return t.sort(o)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}(),l=function(){"use strict";function n(t){t=h(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new a(t.prefetch):null,this.index=new u({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void n.resolve())}var n,i,r=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function r(t){var n=[];e.each(t,function(t){!e.some(s,function(e){return o.identify(t)===o.identify(e)})&&n.push(t)}),i&&i(n)}var s,o=this;return s=this.sorter(this.index.search(t)),n(this.remote?s.slice():s),this.remote&&s.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return l}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var s,o,u=this,a=arguments;return s=function(){i=null,n||(r=t.apply(u,a))},o=n&&!i,clearTimeout(i),i=setTimeout(s,e),o&&(r=t.apply(u,a)),r}},throttle:function(t,e){var n,i,r,s,o,u;return o=0,u=function(){o=new Date,r=null,s=t.apply(n,i)},function(){var a=new Date,c=e-(a-o);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,o=a,s=t.apply(n,i)):r||(r=setTimeout(u,c)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var o,u;return u=e.mixin({},s,t),o={css:r(),classes:u,html:n(u),selectors:i(u)},{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(t){e.mixin(t,o)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function r(){var t={wrapper:{position:"relative",display:"block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var s={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,r;return i="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var r;return r=t.Event(i+e),(n=n||[]).unshift(r),this.$el.trigger.apply(this.$el,n),r},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(a),n=i?u(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(a);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,o;if(!this._callbacks)return this;for(t=t.split(a),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=s(n.sync,this,[e].concat(i)),o=s(n.async,this,[e].concat(i)),r()&&c(o);return this}function s(t,e,n){function i(){for(var i,r=0,s=t.length;!i&&s>r;r+=1)i=t[r].apply(e,n)===!1;return!i}return i}function o(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function u(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var a=/\s+/,c=o();return{onSync:n,onAsync:e,off:i,trigger:r}}(),s=function(t){"use strict";function n(t,n,i){for(var r,s=[],o=0,u=t.length;u>o;o++)s.push(e.escapeRegExChars(t[o]));return r=i?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function s(e){var n,i,s;return(n=u.exec(e.data))&&(s=t.createElement(r.tagName),r.className&&(s.className=r.className),i=e.splitText(n.index),i.splitText(n[0].length),s.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(s,i)),!!n}function o(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],n.nodeType===i?r+=e(n)?1:0:o(n,e)}var u;r=e.mixin({},i,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],u=n(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,s))}}(window.document),o=function(){"use strict";function n(n,r){n=n||{},n.input||t.error("input is missing"),r.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var u;return u={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=u[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;n=s(t,this.query),i=n?this.query.length!==t.length:!1,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,r,s=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){u[t.which||t.keyCode]||e.defer(e.bind(s._onInput,s,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),u=function(){"use strict";function n(n,r){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!u(n.name)&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=o(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function o(n,i){function r(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||r}}function u(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var a,c;return a={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(a.obj)?{val:n.data(a.val)||"",obj:n.data(a.obj)||null}:null},e.mixin(n.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;n=this._getSuggestionsFragment(t,e),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,o=this;return r=document.createDocumentFragment(),e.each(i,function(e){var i,s;s=o._injectQuery(n,e),i=t(o.templates.suggestion(s)).data(a.obj,e).data(a.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(i[0])}),this.highlight&&s({className:this.classes.highlight,node:r,pattern:n}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){o||(o=!0,t=(t||[]).slice(0,r.limit),u=t.length,r._overwrite(e,t),u<r.limit&&r.async&&r.trigger("asyncRequested",e))}function i(n){n=n||[],!s&&u<r.limit&&(r.cancel=t.noop,u+=n.length,r._append(e,n.slice(0,r.limit-u)),r.async&&r.trigger("asyncReceived",e))}var r=this,s=!1,o=!1,u=0;this.cancel(),this.cancel=function(){s=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,n,i),!o&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),a=function(){"use strict";function n(n,i){function r(e){var n=s.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(s.$node),new u(e,i)}var s=this;n=n||{},n.node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,r)}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;e=t.position().top,n=e+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>r&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,r;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,r=i+t,r=(r+1)%(e.length+1)-1,r=-1>r?e.length-1:r,-1===r?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?u.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),c=function(){"use strict";function t(){a.apply(this,[].slice.call(arguments,0))}var n=a.prototype;return e.mixin(t.prototype,a.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),h=function(){"use strict";function n(n,r){var s,o,u,a,c,h,l,f,d,p,g;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=i(this,"activate","open","_onFocused"),o=i(this,"deactivate","_onBlurred"),u=i(this,"isActive","isOpen","_onEnterKeyed"),a=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),h=i(this,"isActive","open","_onUpKeyed"),l=i(this,"isActive","open","_onDownKeyed"),f=i(this,"isActive","isOpen","_onLeftKeyed"),d=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",o,this).onSync("enterKeyed",u,this).onSync("tabKeyed",a,this).onSync("escKeyed",c,this).onSync("upKeyed",h,this).onSync("downKeyed",l,this).onSync("leftKeyed",f,this).onSync("rightKeyed",d,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,s,o;r=document.activeElement,s=i.is(r),o=i.has(r).length>0,e.isMsie()&&(s||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,i,r,s,u,a;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=o.normalizeQuery(i),s=e.escapeRegExChars(r),u=new RegExp("^(?:"+s+")(.+$)","i"),a=u.exec(n.val),a&&this.input.setHint(i+a[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,n,i;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),i=n&&e!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(t){var e,n,i,r,s;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),r=i?i.obj:null,s=this._minLengthMet()&&this.menu.update(e),s||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,i=t(this);(e=i.data(g.typeahead))&&n(e,i)})}function s(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(l(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function u(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function l(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function f(t){var n,i;n=t.data(g.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(g.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function d(n){var i,r;return i=e.isJQuery(n)||e.isElement(n),r=i?t(n).first():[],r.length?r:null}var p,g,m;p=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,l){function f(){var n,f,m,y,v,_,b,w,S,x,A;e.each(l,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(p.html.wrapper),m=d(r.hint),y=d(r.menu),v=r.hint!==!1&&!m,_=r.menu!==!1&&!y,v&&(m=s(n,p)),_&&(y=t(p.html.menu).css(p.css.menu)),m&&m.val(""),n=u(n,p),(v||_)&&(f.css(p.css.wrapper),n.css(v?p.css.input:p.css.inputWithNoHint),n.wrap(f).parent().prepend(v?m:null).append(_?y:null)),A=_?c:a,b=new i({el:n}),w=new o({hint:m,input:n},p),S=new A({node:y,datasets:l},p),x=new h({input:w,menu:S,eventBus:b,minLength:r.minLength},p),n.data(g.www,p),n.data(g.typeahead,x)}var p;return l=e.isArray(l)?l:[].slice.call(arguments,1),r=r||{},p=n(r.classNames),this.each(f)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){f(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=p,this}}()});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Recorder=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";module.exports=require("./recorder").Recorder;},{"./recorder":2}],2:[function(require,module,exports){'use strict';var _createClass=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();Object.defineProperty(exports,"__esModule",{value:true});exports.Recorder=undefined;var _inlineWorker=require('inline-worker');var _inlineWorker2=_interopRequireDefault(_inlineWorker);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Recorder=exports.Recorder=(function(){function Recorder(source,cfg){var _this=this;_classCallCheck(this,Recorder);this.config={bufferLen:4096,numChannels:2,mimeType:'audio/wav'};this.recording=false;this.callbacks={getBuffer:[],exportWAV:[]};Object.assign(this.config,cfg);this.context=source.context;this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels);this.node.onaudioprocess=function(e){if(!_this.recording)return;var buffer=[];for(var channel=0;channel<_this.config.numChannels;channel++){buffer.push(e.inputBuffer.getChannelData(channel));}
_this.worker.postMessage({command:'record',buffer:buffer});};source.connect(this.node);this.node.connect(this.context.destination);var self={};this.worker=new _inlineWorker2.default(function(){var recLength=0,recBuffers=[],sampleRate=undefined,numChannels=undefined;self.onmessage=function(e){switch(e.data.command){case'init':init(e.data.config);break;case'record':record(e.data.buffer);break;case'exportWAV':exportWAV(e.data.type);break;case'getBuffer':getBuffer();break;case'clear':clear();break;}};function init(config){sampleRate=config.sampleRate;numChannels=config.numChannels;initBuffers();}
function record(inputBuffer){for(var channel=0;channel<numChannels;channel++){recBuffers[channel].push(inputBuffer[channel]);}
recLength+=inputBuffer[0].length;}
function exportWAV(type){var buffers=[];for(var channel=0;channel<numChannels;channel++){buffers.push(mergeBuffers(recBuffers[channel],recLength));}
var interleaved=undefined;if(numChannels===2){interleaved=interleave(buffers[0],buffers[1]);}else{interleaved=buffers[0];}
var dataview=encodeWAV(interleaved);var audioBlob=new Blob([dataview],{type:type});self.postMessage({command:'exportWAV',data:audioBlob});}
function getBuffer(){var buffers=[];for(var channel=0;channel<numChannels;channel++){buffers.push(mergeBuffers(recBuffers[channel],recLength));}
self.postMessage({command:'getBuffer',data:buffers});}
function clear(){recLength=0;recBuffers=[];initBuffers();}
function initBuffers(){for(var channel=0;channel<numChannels;channel++){recBuffers[channel]=[];}}
function mergeBuffers(recBuffers,recLength){var result=new Float32Array(recLength);var offset=0;for(var i=0;i<recBuffers.length;i++){result.set(recBuffers[i],offset);offset+=recBuffers[i].length;}
return result;}
function interleave(inputL,inputR){var length=inputL.length+inputR.length;var result=new Float32Array(length);var index=0,inputIndex=0;while(index<length){result[index++]=inputL[inputIndex];result[index++]=inputR[inputIndex];inputIndex++;}
return result;}
function floatTo16BitPCM(output,offset,input){for(var i=0;i<input.length;i++,offset+=2){var s=Math.max(-1,Math.min(1,input[i]));output.setInt16(offset,s<0?s*0x8000:s*0x7FFF,true);}}
function writeString(view,offset,string){for(var i=0;i<string.length;i++){view.setUint8(offset+i,string.charCodeAt(i));}}
function encodeWAV(samples){var buffer=new ArrayBuffer(44+samples.length*2);var view=new DataView(buffer);writeString(view,0,'RIFF');view.setUint32(4,36+samples.length*2,true);writeString(view,8,'WAVE');writeString(view,12,'fmt ');view.setUint32(16,16,true);view.setUint16(20,1,true);view.setUint16(22,numChannels,true);view.setUint32(24,sampleRate,true);view.setUint32(28,sampleRate*4,true);view.setUint16(32,numChannels*2,true);view.setUint16(34,16,true);writeString(view,36,'data');view.setUint32(40,samples.length*2,true);floatTo16BitPCM(view,44,samples);return view;}},self);this.worker.postMessage({command:'init',config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}});this.worker.onmessage=function(e){var cb=_this.callbacks[e.data.command].pop();if(typeof cb=='function'){cb(e.data.data);}};}
_createClass(Recorder,[{key:'record',value:function record(){this.recording=true;}},{key:'stop',value:function stop(){this.recording=false;}},{key:'clear',value:function clear(){this.worker.postMessage({command:'clear'});}},{key:'getBuffer',value:function getBuffer(cb){cb=cb||this.config.callback;if(!cb)throw new Error('Callback not set');this.callbacks.getBuffer.push(cb);this.worker.postMessage({command:'getBuffer'});}},{key:'exportWAV',value:function exportWAV(cb,mimeType){mimeType=mimeType||this.config.mimeType;cb=cb||this.config.callback;if(!cb)throw new Error('Callback not set');this.callbacks.exportWAV.push(cb);this.worker.postMessage({command:'exportWAV',type:mimeType});}}],[{key:'forceDownload',value:function forceDownload(blob,filename){var url=(window.URL||window.webkitURL).createObjectURL(blob);var link=window.document.createElement('a');link.href=url;link.download=filename||'output.wav';var click=document.createEvent("Event");click.initEvent("click",true,true);link.dispatchEvent(click);}}]);return Recorder;})();exports.default=Recorder;},{"inline-worker":3}],3:[function(require,module,exports){"use strict";module.exports=require("./inline-worker");},{"./inline-worker":4}],4:[function(require,module,exports){(function(global){"use strict";var _createClass=(function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=true;if(prop.value)prop.writable=true;}Object.defineProperties(target,props);}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}};var WORKER_ENABLED=!!(global===global.window&&global.URL&&global.Blob&&global.Worker);var InlineWorker=(function(){function InlineWorker(func,self){var _this=this;_classCallCheck(this,InlineWorker);if(WORKER_ENABLED){var functionBody=func.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1];var url=global.URL.createObjectURL(new global.Blob([functionBody],{type:"text/javascript"}));return new global.Worker(url);}
this.self=self;this.self.postMessage=function(data){setTimeout(function(){_this.onmessage({data:data});},0);};setTimeout(function(){func.call(self);},0);}
_createClass(InlineWorker,{postMessage:{value:function postMessage(data){var _this=this;setTimeout(function(){_this.self.onmessage({data:data});},0);}}});return InlineWorker;})();module.exports=InlineWorker;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[1])(1)});!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,i){i===t&&(i=0),i<0&&(i+=this.length),i<0&&(i=0);for(var s=this.length;i<s;i++)if(i in this&&this[i]===e)return i;return-1});var s=function(i,s){var a=this;this.element=e(i),this.container=s.container||"body",this.language=s.language||this.element.data("date-language")||"en",this.language=this.language in n?this.language:this.language.split("-")[0],this.language=this.language in n?this.language:"en",this.isRTL=n[this.language].rtl||!1,this.formatType=s.formatType||this.element.data("format-type")||"standard",this.format=h.parseFormat(s.format||this.element.data("date-format")||n[this.language].format||h.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.fontAwesome=s.fontAwesome||this.element.data("font-awesome")||!1,this.bootcssVer=s.bootcssVer||(this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2),this.component=!!this.element.is(".date")&&(3===this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()),this.componentReset=!!this.element.is(".date")&&(3===this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent():this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=s.linkField||this.element.data("link-field")||!1,this.linkFormat=h.parseFormat(s.linkFormat||this.element.data("link-format")||h.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=s.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=s.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=s.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=s.initialDate||new Date,this.zIndex=s.zIndex||this.element.data("z-index")||t,this.title=void 0!==s.title&&s.title,this.timezone=s.timezone||function(){var e,t,i,s,a;if((i=(null!=(a=(t=(new Date).toString()).split("(")[1])?a.slice(0,-1):0)||t.split(" "))instanceof Array){s=[];for(var n=0,h=i.length;n<h;n++)(e=null!==(a=i[n].match(/\b[A-Z]+\b/)))&&a[0]&&s.push(e);i=s.pop()}return i}(),this.icons={leftArrow:this.fontAwesome?"fa-arrow-left":3===this.bootcssVer?"glyphicon-arrow-left":"icon-arrow-left",rightArrow:this.fontAwesome?"fa-arrow-right":3===this.bootcssVer?"glyphicon-arrow-right":"icon-arrow-right"},this.icontype=this.fontAwesome?"fa":"glyphicon",this._attachEvents(),this.clickedOutside=function(t){0===e(t.target).closest(".datetimepicker").length&&a.hide()},this.formatViewType="datetime","formatViewType"in s?this.formatViewType=s.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in s?this.minView=s.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=h.convertViewMode(this.minView),this.maxView=h.modes.length-1,"maxView"in s?this.maxView=s.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=h.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in s?this.wheelViewModeNavigation=s.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in s?this.wheelViewModeNavigationInverseDirection=s.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in s?this.wheelViewModeNavigationDelay=s.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in s?this.startViewMode=s.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=h.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in s?this.viewSelect=s.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=h.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in s?this.forceParse=s.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));for(var o=3===this.bootcssVer?h.templateV3:h.template;-1!==o.indexOf("{iconType}");)o=o.replace("{iconType}",this.icontype);for(;-1!==o.indexOf("{leftArrow}");)o=o.replace("{leftArrow}",this.icons.leftArrow);for(;-1!==o.indexOf("{rightArrow}");)o=o.replace("{rightArrow}",this.icons.rightArrow);if(this.picker=e(o).appendTo(this.isInline?this.element:this.container).on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(e.fn.mousewheel?this.picker.on({mousewheel:e.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL){this.picker.addClass("datetimepicker-rtl");var r=3===this.bootcssVer?".prev span, .next span":".prev i, .next i";this.picker.find(r).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}e(document).on("mousedown touchend",this.clickedOutside),this.autoclose=!1,"autoclose"in s?this.autoclose=s.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in s?this.keyboardNavigation=s.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=s.todayBtn||this.element.data("date-today-btn")||!1,this.clearBtn=s.clearBtn||this.element.data("date-clear-btn")||!1,this.todayHighlight=s.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=0,void 0!==s.weekStart?this.weekStart=s.weekStart:void 0!==this.element.data("date-weekstart")?this.weekStart=this.element.data("date-weekstart"):void 0!==n[this.language].weekStart&&(this.weekStart=n[this.language].weekStart),this.weekStart=this.weekStart%7,this.weekEnd=(this.weekStart+6)%7,this.onRenderDay=function(e){var t=(s.onRenderDay||function(){return[]})(e);"string"==typeof t&&(t=[t]);return["day"].concat(t||[])},this.onRenderHour=function(e){var t=(s.onRenderHour||function(){return[]})(e);return"string"==typeof t&&(t=[t]),["hour"].concat(t||[])},this.onRenderMinute=function(e){var t=(s.onRenderMinute||function(){return[]})(e),i=["minute"];return"string"==typeof t&&(t=[t]),e<this.startDate||e>this.endDate?i.push("disabled"):Math.floor(this.date.getUTCMinutes()/this.minuteStep)===Math.floor(e.getUTCMinutes()/this.minuteStep)&&i.push("active"),i.concat(t||[])},this.onRenderYear=function(e){var t=(s.onRenderYear||function(){return[]})(e),i=["year"];"string"==typeof t&&(t=[t]),this.date.getUTCFullYear()===e.getUTCFullYear()&&i.push("active");var a=e.getUTCFullYear(),n=this.endDate.getUTCFullYear();return(e<this.startDate||a>n)&&i.push("disabled"),i.concat(t||[])},this.onRenderMonth=function(e){var t=(s.onRenderMonth||function(){return[]})(e);return"string"==typeof t&&(t=[t]),["month"].concat(t||[])},this.startDate=new Date(-8639968443048e3),this.endDate=new Date(8639968443048e3),this.datesDisabled=[],this.daysOfWeekDisabled=[],this.setStartDate(s.startDate||this.element.data("date-startdate")),this.setEndDate(s.endDate||this.element.data("date-enddate")),this.setDatesDisabled(s.datesDisabled||this.element.data("date-dates-disabled")),this.setDaysOfWeekDisabled(s.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setMinutesDisabled(s.minutesDisabled||this.element.data("date-minute-disabled")),this.setHoursDisabled(s.hoursDisabled||this.element.data("date-hour-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};s.prototype={constructor:s,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:e.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]];for(var t,i,s=0;s<this._events.length;s++)t=this._events[s][0],i=this._events[s][1],t.on(i)},_detachEvents:function(){for(var e,t,i=0;i<this._events.length;i++)e=this._events[i][0],t=this._events[i][1],e.off(t);this._events=[]},show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),e(document).off("mousedown",this.clickedOutside),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var e=this.getUTCDate();return null===e?null:new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},getInitialDate:function(){return this.initialDate},setInitialDate:function(e){this.initialDate=e},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){e>=this.startDate&&e<=this.endDate?(this.date=e,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:e,startDate:this.startDate,endDate:this.endDate})},setFormat:function(e){var t;this.format=h.parseFormat(e,this.formatType),this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val()&&this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t)),this.linkField&&e("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(e){return e=e||this.format,h.formatDate(this.date,e,this.language,this.formatType,this.timezone)},setStartDate:function(e){this.startDate=e||this.startDate,8639968443048e3!==this.startDate.valueOf()&&(this.startDate=h.parseDate(this.startDate,this.format,this.language,this.formatType,this.timezone)),this.update(),this.updateNavArrows()},setEndDate:function(e){this.endDate=e||this.endDate,8639968443048e3!==this.endDate.valueOf()&&(this.endDate=h.parseDate(this.endDate,this.format,this.language,this.formatType,this.timezone)),this.update(),this.updateNavArrows()},setDatesDisabled:function(t){this.datesDisabled=t||[],e.isArray(this.datesDisabled)||(this.datesDisabled=this.datesDisabled.split(/,\s*/));var i=this;this.datesDisabled=e.map(this.datesDisabled,function(e){return h.parseDate(e,i.format,i.language,i.formatType,i.timezone).toDateString()}),this.update(),this.updateNavArrows()},setTitle:function(e,t){return this.picker.find(e).find("th:eq(1)").text(!1===this.title?t:this.title)},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},setMinutesDisabled:function(t){this.minutesDisabled=t||[],e.isArray(this.minutesDisabled)||(this.minutesDisabled=this.minutesDisabled.split(/,\s*/)),this.minutesDisabled=e.map(this.minutesDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},setHoursDisabled:function(t){this.hoursDisabled=t||[],e.isArray(this.hoursDisabled)||(this.hoursDisabled=this.hoursDisabled.split(/,\s*/)),this.hoursDisabled=e.map(this.hoursDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){if(!this.zIndex){var t=0;e("div").each(function(){var i=parseInt(e(this).css("zIndex"),10);i>t&&(t=i)}),this.zIndex=t+10}var i,s,a,n;n=this.container instanceof e?this.container.offset():e(this.container).offset(),this.component?(a=(i=this.component.offset()).left,"bottom-left"!==this.pickerPosition&&"top-left"!==this.pickerPosition||(a+=this.component.outerWidth()-this.picker.outerWidth())):(a=(i=this.element.offset()).left,"bottom-left"!==this.pickerPosition&&"top-left"!==this.pickerPosition||(a+=this.element.outerWidth()-this.picker.outerWidth()));var h=document.body.clientWidth||window.innerWidth;a+220>h&&(a=h-220),s="top-left"===this.pickerPosition||"top-right"===this.pickerPosition?i.top-this.picker.outerHeight():i.top+this.height,s-=n.top,a-=n.left,this.picker.css({top:s,left:a,zIndex:this.zIndex})}},hour_minute:"^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]",update:function(){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):"string"==typeof(e=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate)&&(e=e.replace(/^\s+|\s+$/g,"")),e||(e=new Date,t=!1),"string"==typeof e&&(new RegExp(this.hour_minute).test(e)||new RegExp(this.hour_minute+":[0-5][0-9]").test(e))&&(e=this.getDate()),this.date=h.parseDate(e,this.format,this.language,this.formatType,this.timezone),t&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+n[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datetimepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=new Date(this.viewDate),i=0;i<12;i++){t.setUTCMonth(i),e+='<span class="'+this.onRenderMonth(t).join(" ")+'">'+n[this.language].monthsShort[i]+"</span>"}this.picker.find(".datetimepicker-months td").html(e)},fill:function(){if(this.date&&this.viewDate){var t=new Date(this.viewDate),s=t.getUTCFullYear(),o=t.getUTCMonth(),r=t.getUTCDate(),d=t.getUTCHours(),l=this.startDate.getUTCFullYear(),c=this.startDate.getUTCMonth(),u=this.endDate.getUTCFullYear(),p=this.endDate.getUTCMonth()+1,m=new i(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),f=new Date;if(this.setTitle(".datetimepicker-days",n[this.language].months[o]+" "+s),"time"===this.formatViewType){var g=this.getFormattedDate();this.setTitle(".datetimepicker-hours",g),this.setTitle(".datetimepicker-minutes",g)}else this.setTitle(".datetimepicker-hours",r+" "+n[this.language].months[o]+" "+s),this.setTitle(".datetimepicker-minutes",r+" "+n[this.language].months[o]+" "+s);this.picker.find("tfoot th.today").text(n[this.language].today||n.en.today).toggle(!1!==this.todayBtn),this.picker.find("tfoot th.clear").text(n[this.language].clear||n.en.clear).toggle(!1!==this.clearBtn),this.updateNavArrows(),this.fillMonths();var v=i(s,o-1,28,0,0,0,0),w=h.getDaysInMonth(v.getUTCFullYear(),v.getUTCMonth());v.setUTCDate(w),v.setUTCDate(w-(v.getUTCDay()-this.weekStart+7)%7);var D=new Date(v);D.setUTCDate(D.getUTCDate()+42),D=D.valueOf();for(var y,T=[];v.valueOf()<D;)v.getUTCDay()===this.weekStart&&T.push("<tr>"),y=this.onRenderDay(v),v.getUTCFullYear()<s||v.getUTCFullYear()===s&&v.getUTCMonth()<o?y.push("old"):(v.getUTCFullYear()>s||v.getUTCFullYear()===s&&v.getUTCMonth()>o)&&y.push("new"),this.todayHighlight&&v.getUTCFullYear()===f.getFullYear()&&v.getUTCMonth()===f.getMonth()&&v.getUTCDate()===f.getDate()&&y.push("today"),v.valueOf()===m&&y.push("active"),(v.valueOf()+864e5<=this.startDate||v.valueOf()>this.endDate||-1!==e.inArray(v.getUTCDay(),this.daysOfWeekDisabled)||-1!==e.inArray(v.toDateString(),this.datesDisabled))&&y.push("disabled"),T.push('<td class="'+y.join(" ")+'">'+v.getUTCDate()+"</td>"),v.getUTCDay()===this.weekEnd&&T.push("</tr>"),v.setUTCDate(v.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(T.join("")),T=[];var C="",k="",M="",b=this.hoursDisabled||[];t=new Date(this.viewDate);for(var U=0;U<24;U++){t.setUTCHours(U),y=this.onRenderHour(t),-1!==b.indexOf(U)&&y.push("disabled");var V=i(s,o,r,U);V.valueOf()+36e5<=this.startDate||V.valueOf()>this.endDate?y.push("disabled"):d===U&&y.push("active"),this.showMeridian&&2===n[this.language].meridiem.length?((k=U<12?n[this.language].meridiem[0]:n[this.language].meridiem[1])!==M&&(""!==M&&T.push("</fieldset>"),T.push('<fieldset class="hour"><legend>'+k.toUpperCase()+"</legend>")),M=k,C=U%12?U%12:12,U<12?y.push("hour_am"):y.push("hour_pm"),T.push('<span class="'+y.join(" ")+'">'+C+"</span>"),23===U&&T.push("</fieldset>")):(C=U+":00",T.push('<span class="'+y.join(" ")+'">'+C+"</span>"))}this.picker.find(".datetimepicker-hours td").html(T.join("")),T=[],C="",k="",M="";var S=this.minutesDisabled||[];t=new Date(this.viewDate);for(U=0;U<60;U+=this.minuteStep)-1===S.indexOf(U)&&(t.setUTCMinutes(U),t.setUTCSeconds(0),y=this.onRenderMinute(t),this.showMeridian&&2===n[this.language].meridiem.length?((k=d<12?n[this.language].meridiem[0]:n[this.language].meridiem[1])!==M&&(""!==M&&T.push("</fieldset>"),T.push('<fieldset class="minute"><legend>'+k.toUpperCase()+"</legend>")),M=k,C=d%12?d%12:12,T.push('<span class="'+y.join(" ")+'">'+C+":"+(U<10?"0"+U:U)+"</span>"),59===U&&T.push("</fieldset>")):(C=U+":00",T.push('<span class="'+y.join(" ")+'">'+d+":"+(U<10?"0"+U:U)+"</span>")));this.picker.find(".datetimepicker-minutes td").html(T.join(""));var F=this.date.getUTCFullYear(),x=this.setTitle(".datetimepicker-months",s).end().find(".month").removeClass("active");F===s&&x.eq(this.date.getUTCMonth()).addClass("active"),(s<l||s>u)&&x.addClass("disabled"),s===l&&x.slice(0,c).addClass("disabled"),s===u&&x.slice(p).addClass("disabled"),T="",s=10*parseInt(s/10,10);var H=this.setTitle(".datetimepicker-years",s+"-"+(s+9)).end().find("td");s-=1,t=new Date(this.viewDate);for(U=-1;U<11;U++)t.setUTCFullYear(s),y=this.onRenderYear(t),-1!==U&&10!==U||y.push(a),T+='<span class="'+y.join(" ")+'">'+s+"</span>",s+=1;H.html(T),this.place()}},updateNavArrows:function(){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth(),s=e.getUTCDate(),a=e.getUTCHours();switch(this.viewMode){case 0:t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&s<=this.startDate.getUTCDate()&&a<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&s>=this.endDate.getUTCDate()&&a>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&s<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&s>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:t<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),t>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:t<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),t>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(t){if(t.preventDefault(),t.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var i=t.originalEvent.wheelDelta,s=i>0?1:0===i?0:-1;this.wheelViewModeNavigationInverseDirection&&(s=-s),this.showMode(s),setTimeout(e.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(t){t.stopPropagation(),t.preventDefault();var s=e(t.target).closest("span, td, th, legend");if(s.is("."+this.icontype)&&(s=e(s).parent().closest("span, td, th, legend")),1===s.length){if(s.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var a=h.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,a);break;case 1:this.viewDate=this.moveDate(this.viewDate,a);break;case 2:this.viewDate=this.moveMonth(this.viewDate,a);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,a)}this.fill(),this.element.trigger({type:s[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"clear":this.reset(),this.autoclose&&this.hide();break;case"today":var n=new Date;(n=i(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),0))<this.startDate?n=this.startDate:n>this.endDate&&(n=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(n),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!s.is(".disabled")){var o=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),d=this.viewDate.getUTCDate(),l=this.viewDate.getUTCHours(),c=this.viewDate.getUTCMinutes(),u=this.viewDate.getUTCSeconds();if(s.is(".month")?(this.viewDate.setUTCDate(1),r=s.parent().find("span").index(s),d=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(r),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(i(o,r,d,l,c,u,0))):s.is(".year")?(this.viewDate.setUTCDate(1),o=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(o),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(i(o,r,d,l,c,u,0))):s.is(".hour")?(l=parseInt(s.text(),10)||0,(s.hasClass("hour_am")||s.hasClass("hour_pm"))&&(12===l&&s.hasClass("hour_am")?l=0:12!==l&&s.hasClass("hour_pm")&&(l+=12)),this.viewDate.setUTCHours(l),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(i(o,r,d,l,c,u,0))):s.is(".minute")&&(c=parseInt(s.text().substr(s.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(c),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(i(o,r,d,l,c,u,0))),0!==this.viewMode){var p=this.viewMode;this.showMode(-1),this.fill(),p===this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(s.is(".day")&&!s.is(".disabled")){d=parseInt(s.text(),10)||1,o=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCHours(),c=this.viewDate.getUTCMinutes(),u=this.viewDate.getUTCSeconds();s.is(".old")?0===r?(r=11,o-=1):r-=1:s.is(".new")&&(11===r?(r=0,o+=1):r+=1),this.viewDate.setUTCFullYear(o),this.viewDate.setUTCMonth(r,d),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(i(o,r,d,l,c,u,0))}p=this.viewMode;this.showMode(-1),this.fill(),p===this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(e,t){var i;t&&"date"!==t||(this.date=e),t&&"view"!==t||(this.viewDate=e),this.fill(),this.setValue(),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),this.element.trigger({type:"changeDate",date:this.getDate()}),null===e&&(this.date=this.viewDate)},moveMinute:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCMinutes(i.getUTCMinutes()+t*this.minuteStep),i},moveHour:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCHours(i.getUTCHours()+t),i},moveDate:function(e,t){if(!t)return e;var i=new Date(e.valueOf());return i.setUTCDate(i.getUTCDate()+t),i},moveMonth:function(e,t){if(!t)return e;var i,s,a=new Date(e.valueOf()),n=a.getUTCDate(),h=a.getUTCMonth(),o=Math.abs(t);if(t=t>0?1:-1,1===o)s=-1===t?function(){return a.getUTCMonth()===h}:function(){return a.getUTCMonth()!==i},i=h+t,a.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var r=0;r<o;r++)a=this.moveMonth(a,t);i=a.getUTCMonth(),a.setUTCDate(n),s=function(){return i!==a.getUTCMonth()}}for(;s();)a.setUTCDate(--n),a.setUTCMonth(i);return a},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.startDate&&e<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))27===e.keyCode&&this.show();else{var t,i,s,a,n=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;t=37===e.keyCode?-1:1;var h=this.viewMode;e.ctrlKey?h+=2:e.shiftKey&&(h+=1),4===h?(i=this.moveYear(this.date,t),s=this.moveYear(this.viewDate,t)):3===h?(i=this.moveMonth(this.date,t),s=this.moveMonth(this.viewDate,t)):2===h?(i=this.moveDate(this.date,t),s=this.moveDate(this.viewDate,t)):1===h?(i=this.moveHour(this.date,t),s=this.moveHour(this.viewDate,t)):0===h&&(i=this.moveMinute(this.date,t),s=this.moveMinute(this.viewDate,t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),e.preventDefault(),n=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;t=38===e.keyCode?-1:1,h=this.viewMode,e.ctrlKey?h+=2:e.shiftKey&&(h+=1),4===h?(i=this.moveYear(this.date,t),s=this.moveYear(this.viewDate,t)):3===h?(i=this.moveMonth(this.date,t),s=this.moveMonth(this.viewDate,t)):2===h?(i=this.moveDate(this.date,7*t),s=this.moveDate(this.viewDate,7*t)):1===h?this.showMeridian?(i=this.moveHour(this.date,6*t),s=this.moveHour(this.viewDate,6*t)):(i=this.moveHour(this.date,4*t),s=this.moveHour(this.viewDate,4*t)):0===h&&(i=this.moveMinute(this.date,4*t),s=this.moveMinute(this.viewDate,4*t)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),e.preventDefault(),n=!0);break;case 13:if(0!==this.viewMode){var o=this.viewMode;this.showMode(-1),this.fill(),o===this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();e.preventDefault();break;case 9:this.hide()}if(n)this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change(),this.element.trigger({type:"changeDate",date:this.getDate()})}},showMode:function(e){if(e){var t=Math.max(0,Math.min(h.modes.length-1,this.viewMode+e));t>=this.minView&&t<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:t}),this.viewMode=t)}this.picker.find(">div").hide().filter(".datetimepicker-"+h.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")},convertViewModeText:function(e){switch(e){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};var a=e.fn.datetimepicker;e.fn.datetimepicker=function(i){var a,n=Array.apply(null,arguments);return n.shift(),this.each(function(){var h=e(this),o=h.data("datetimepicker"),r="object"==typeof i&&i;if(o||h.data("datetimepicker",o=new s(this,e.extend({},e.fn.datetimepicker.defaults,r))),"string"==typeof i&&"function"==typeof o[i]&&(a=o[i].apply(o,n))!==t)return!1}),a!==t?a:this},e.fn.datetimepicker.defaults={},e.fn.datetimepicker.Constructor=s;var n=e.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today",clear:"Clear"}},h={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getDaysInMonth:function(e,t){return[31,h.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},getDefaultFormat:function(e,t){if("standard"===e)return"input"===t?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"===e)return"input"===t?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(e){if("standard"===e)return/t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"===e)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(e,t){var i=e.replace(this.validParts(t),"\0").split("\0"),s=e.match(this.validParts(t));if(!i||!i.length||!s||0===s.length)throw new Error("Invalid date format.");return{separators:i,parts:s}},parseDate:function(t,a,h,o,r){if(t instanceof Date){var d=new Date(t.valueOf()-6e4*t.getTimezoneOffset());return d.setMilliseconds(0),d}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(t)&&(a=this.parseFormat("yyyy-mm-dd",o)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(t)&&(a=this.parseFormat("yyyy-mm-dd hh:ii",o)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(t)&&(a=this.parseFormat("yyyy-mm-dd hh:ii:ss",o)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(t)){var l,c=/([-+]\d+)([dmwy])/,u=t.match(/([-+]\d+)([dmwy])/g);t=new Date;for(var p=0;p<u.length;p++)switch(g=c.exec(u[p]),l=parseInt(g[1]),g[2]){case"d":t.setUTCDate(t.getUTCDate()+l);break;case"m":t=s.prototype.moveMonth.call(s.prototype,t,l);break;case"w":t.setUTCDate(t.getUTCDate()+7*l);break;case"y":t=s.prototype.moveYear.call(s.prototype,t,l)}return i(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),0)}u=t&&t.toString().match(this.nonpunctuation)||[],t=new Date(0,0,0,0,0,0,0);var m,f,g,v={},w=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P","z","Z"],D={hh:function(e,t){return e.setUTCHours(t)},h:function(e,t){return e.setUTCHours(t)},HH:function(e,t){return e.setUTCHours(12===t?0:t)},H:function(e,t){return e.setUTCHours(12===t?0:t)},ii:function(e,t){return e.setUTCMinutes(t)},i:function(e,t){return e.setUTCMinutes(t)},ss:function(e,t){return e.setUTCSeconds(t)},s:function(e,t){return e.setUTCSeconds(t)},yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;){if(isNaN(e.getUTCMonth()))return e;e.setUTCDate(e.getUTCDate()-1)}return e},d:function(e,t){return e.setUTCDate(t)},p:function(e,t){return e.setUTCHours(1===t?e.getUTCHours()+12:e.getUTCHours())},z:function(){return r}};if(D.M=D.MM=D.mm=D.m,D.dd=D.d,D.P=D.p,D.Z=D.z,t=i(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),u.length===a.parts.length){p=0;for(var y=a.parts.length;p<y;p++){if(m=parseInt(u[p],10),g=a.parts[p],isNaN(m))switch(g){case"MM":f=e(n[h].months).filter(function(){var e=this.slice(0,u[p].length);return e===u[p].slice(0,e.length)}),m=e.inArray(f[0],n[h].months)+1;break;case"M":f=e(n[h].monthsShort).filter(function(){var e=this.slice(0,u[p].length),t=u[p].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}),m=e.inArray(f[0],n[h].monthsShort)+1;break;case"p":case"P":m=e.inArray(u[p].toLowerCase(),n[h].meridiem)}v[g]=m}var T;for(p=0;p<w.length;p++)(T=w[p])in v&&!isNaN(v[T])&&D[T](t,v[T])}return t},formatDate:function(t,i,s,a,o){if(null===t)return"";var r;if("standard"===a)r={t:t.getTime(),yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear(),m:t.getUTCMonth()+1,M:n[s].monthsShort[t.getUTCMonth()],MM:n[s].months[t.getUTCMonth()],d:t.getUTCDate(),D:n[s].daysShort[t.getUTCDay()],DD:n[s].days[t.getUTCDay()],p:2===n[s].meridiem.length?n[s].meridiem[t.getUTCHours()<12?0:1]:"",h:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds(),z:o},2===n[s].meridiem.length?r.H=r.h%12==0?12:r.h%12:r.H=r.h,r.HH=(r.H<10?"0":"")+r.H,r.P=r.p.toUpperCase(),r.Z=r.z,r.hh=(r.h<10?"0":"")+r.h,r.ii=(r.i<10?"0":"")+r.i,r.ss=(r.s<10?"0":"")+r.s,r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m;else{if("php"!==a)throw new Error("Invalid format type.");(r={y:t.getUTCFullYear().toString().substring(2),Y:t.getUTCFullYear(),F:n[s].months[t.getUTCMonth()],M:n[s].monthsShort[t.getUTCMonth()],n:t.getUTCMonth()+1,t:h.getDaysInMonth(t.getUTCFullYear(),t.getUTCMonth()),j:t.getUTCDate(),l:n[s].days[t.getUTCDay()],D:n[s].daysShort[t.getUTCDay()],w:t.getUTCDay(),N:0===t.getUTCDay()?7:t.getUTCDay(),S:t.getUTCDate()%10<=n[s].suffix.length?n[s].suffix[t.getUTCDate()%10-1]:"",a:2===n[s].meridiem.length?n[s].meridiem[t.getUTCHours()<12?0:1]:"",g:t.getUTCHours()%12==0?12:t.getUTCHours()%12,G:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds()}).m=(r.n<10?"0":"")+r.n,r.d=(r.j<10?"0":"")+r.j,r.A=r.a.toString().toUpperCase(),r.h=(r.g<10?"0":"")+r.g,r.H=(r.G<10?"0":"")+r.G,r.i=(r.i<10?"0":"")+r.i,r.s=(r.s<10?"0":"")+r.s}t=[];for(var d=e.extend([],i.separators),l=0,c=i.parts.length;l<c;l++)d.length&&t.push(d.shift()),t.push(r[i.parts[l]]);return d.length&&t.push(d.shift()),t.join("")},convertViewMode:function(e){switch(e){case 4:case"decade":e=4;break;case 3:case"year":e=3;break;case 2:case"month":e=2;break;case 1:case"day":e=1;break;case 0:case"hour":e=0}return e},headTemplate:'<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>",h.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+h.headTemplateV3+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+h.headTemplateV3+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+h.headTemplateV3+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+h.headTemplateV3+h.contTemplate+h.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+h.headTemplateV3+h.contTemplate+h.footTemplate+"</table></div></div>",e.fn.datetimepicker.DPGlobal=h,e.fn.datetimepicker.noConflict=function(){return e.fn.datetimepicker=a,this},e(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(t){var i=e(this);i.data("datetimepicker")||(t.preventDefault(),i.datetimepicker("show"))}),e(function(){e('[data-provide="datetimepicker-inline"]').datetimepicker()})});!function(a){a.fn.smkValidate=function(b){var c=a.extend({lang:"en"},a.fn.smkValidate.Languaje,b),d={en:{textEmpty:"Required field",textEmail:"Enter a valid email",textAlphanumeric:"Only numbers and/or letters allowed",textNumber:"Only numbers are allowed",textNumberRange:"The numerical range must be greater than <b> {@} </b> and less than <b> {@} </b>",textDecimal:"Only decimal numbers are allowed",textCurrency:"Please enter a valid monetary amount",textSelect:"It is necessary that you select an option",textCheckbox:"It is necessary that you select an option",textLength:"The number of characters is equal to <b> {@} </b>",textRange:"The number of characters must be greater than <b> {@} </b> and less than <b> {@} </b>",textSPassDefault:"Minimum 4 characters",textSPassWeak:"Minimum 6 characters",textSPassMedium:"Minimum 6 characters and a number",textSPassStrong:"Minimum 6 characters a number and a capital"}};"en"!=c.lang&&(d=a.fn.smkValidate.Languaje);var e="",f="",g=!1;return a(":input",this).each(function(b,h){if("button"!=a(h).attr("type")){e=a(h),f=a(h).parents(".form-group");var i=a(h).attr("name"),j=a(h).val(),k=a(h).attr("type"),l=a(h).attr("smk-type"),m=h.tagName.toLowerCase(),n=a(h).attr("required"),o=a(h).attr("smk-strongPass"),p=a(h).attr("minlength"),q=a(h).attr("maxlength"),r=a(h).attr("smk-min"),s=a(h).attr("smk-max");if(a.smkRemoveError(e),"required"===n&&("text"===k||"textarea"===m||"password"===k||"email"===k)){if(""===j)return g=a.smkAddError(e,d[c.lang].textEmpty),!1;g=!0}if("required"===n&&"email"===k){var t=/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-]+\.[a-zA-Z0-9\-\.]+$/;if(!t.test(j))return g=a.smkAddError(e,d[c.lang].textEmail),!1;g=!0}if("required"===n&&"password"===k){var u="",v="";switch(o){case"weak":u=/^(?=.*[a-z0-9])\w{6,}$/,v=d[c.lang].textSPassWeak;break;case"medium":u=/^(?=.*\d)(?=.*[a-z])\w{6,}$/,v=d[c.lang].textSPassMedium;break;case"strong":u=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])\w{6,}$/,v=d[c.lang].textSPassStrong;break;default:u=/^(?=.*[a-z0-9])\w{4,}$/,v=d[c.lang].textSPassDefault}if(!u.test(j))return g=a.smkAddError(e,v),!1;g=!0}if("required"===n&&"select"===m){if(""===j)return g=a.smkAddError(e,d[c.lang].textSelect),!1;g=!0}if("required"===n&&("radio"===k||"checkbox"===k)){var w=a("input[name="+i+"]:checked").val();if(void 0===w)return g=a.smkAddError(e,d[c.lang].textCheckbox),!1;g=!0}if("alphanumeric"===l){var x=/^[a-z0-9]+$/i;if(!x.test(j))return g=a.smkAddError(e,d[c.lang].textAlphanumeric),!1;g=!0}if("number"===l){var y=/^\d+$/;if(!y.test(j))return g=a.smkAddError(e,d[c.lang].textNumber),!1;g=!0}if("decimal"===l){var z=/^\d+(?:\.\d{1,4})?$/;if(!z.test(j))return g=a.smkAddError(e,d[c.lang].textDecimal),!1;g=!0}if("currency"===l){var A=/^(?:\d+|\d{1,3}(?:,\d{3})*)(?:\.\d{1,4}){0,1}$/;if(!A.test(j))return g=a.smkAddError(e,d[c.lang].textCurrency),!1;g=!0}if("undefined"!=typeof p||"undefined"!=typeof q)if(p===q){if(j.length!=p&&j.length!=q){var B=a.smokeCustomizeText(d[c.lang].textLength,q);return g=a.smkAddError(e,B),!1}g=!0}else if(p!==q){if(j.length<p||j.length>q){var C=[];C[0]=parseInt(p-1),C[1]=parseInt(q)+1;var D=a.smokeCustomizeText(d[c.lang].textRange,C);return g=a.smkAddError(e,D),!1}g=!0}if("undefined"!=typeof r||"undefined"!=typeof s){if(r>j||j>s){var E=[];E[0]=parseInt(r-1),E[1]=parseInt(s)+1;var F=a.smokeCustomizeText(d[c.lang].textNumberRange,E);return g=a.smkAddError(e,F),!1}g=!0}}}),a(e).keyup(function(){""!==e.val()&&a.smkRemoveError(e)}),a(e).change(function(){""!==e.val()&&a.smkRemoveError(e)}),g},a.smkEqualPass=function(b,c,d){var e={en:{textEqualPass:"Passwords do not match"}};return void 0===d&&(d="en"),"en"!=d&&(e=a.smkEqualPass.Languaje),b=void 0!==a(b).val()?a(b).val():b,b!==a(c).val()?a.smkAddError(a(c),e[d].textEqualPass):!0},a.fn.smkClear=function(b){var c=a.extend({noClear:""},b),d=c.noClear.replace(/\s/g,""),e=d.split(",");return a(":input",this).each(function(){var b=this.type,c=this.tagName.toLowerCase();if("input"==c&&(c=b),a.inArray(b,e)<0&&a.inArray(c,e)<0){switch(b){case"text":case"password":case"email":case"number":case"hidden":this.value="";break;case"checkbox":case"radio":this.checked=!1}switch(c){case"textarea":this.value="";break;case"select":this.selectedIndex=-1,a(this).hasClass("select2")&&a(this).select2("val","")}}})},a.smkAddError=function(b,c){var d=a(b).parents(".form-group"),e=a(b).parent(),f=a(b).attr("type"),g=a(b).prop("tagName").toLowerCase(),h=a(b).attr("smk-text");(""===h||void 0===h)&&(h=c),void 0===f&&(f=g);var i='<i class="fa fa-times form-control-feedback smk-error-icon"></i>',j='<span class="smk-error-text">'+h+"</span>";return"select"==f?(d.addClass("has-feedback has-error smk-"+f),e.append(i+j)):"checkbox"==f||"radio"==f?(d.addClass("has-feedback has-error smk-"+f),e.parent().parent().append(j)):(d.addClass("has-feedback has-error"),e.append(i+j)),b.focus(),!1},a.smkRemoveError=function(b){var c=a(b).parents(".form-group");return c.find(".smk-error-text, .smk-error-icon").remove(),c.removeClass("has-error has-feedback"),!1},a.smokeCustomizeText=function(b,c){var d="";if("string"==typeof c)d=b.replace("{@}",c);else{var e=b.split("{@}");a.each(c,function(a,b){d+=e[a]+b}),d+=e[e.length-1]}return d};var b=0;a.smkAlert=function(c){function d(){g=setTimeout(function(){f.animate({opacity:"0",marginLeft:"100px",marginRight:"-100px"},300,function(){f.remove()})},1e3*e.time)}var e=a.extend({text:"Hola Mundo",type:"warning",icon:"fa-exclamation-circle",time:5,permanent:!1},c);switch(b++,e.type){case"warning":e.type="alert-warning",e.icon="fa-exclamation-circle";break;case"success":e.type="alert-success",e.icon="fa-check-circle";break;case"error":e.type="alert-danger",e.icon="fa-times-circle";break;case"info":e.type="alert-info",e.icon="fa-info-circle"}1==b&&a("body").append('<div class="smk-alert-content"></div>');var f=a('<div class="alert alert-dismissable '+e.type+' smk-alert"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><p><i class="fa '+e.icon+'"></i>&nbsp;&nbsp;'+e.text+"</p></div>");if(a(".smk-alert-content").prepend(f),f.animate({opacity:"1",marginTop:"20px"},300),e.permanent===!1){var g=0;a(f).mouseenter(function(){clearTimeout(g)}).mouseleave(function(){d()}),d()}},a.smkConfirm=function(b,c){function d(){a(".smk-confirm-back").fadeOut(200,function(){a(".smk-confirm-back").remove()}),a(".smk-confirm").animate({top:"-500px",opacity:"0"},400,function(){a(".smk-confirm").remove()})}var e=a.extend({text:"Estas seguro?",accept:"Aceptar",cancel:"Cancelar"},b);a("body").append('<div class="smk-confirm-back"><div class="panel panel-default smk-confirm"><div class="panel-body"><br>'+e.text+'<br><br></div><div class="panel-footer text-right"><a class="btn btn-default btn-sm smk-cancel" href="#" >'+e.cancel+'</a> <a class="btn btn-primary btn-sm smk-accept" href="#">'+e.accept+"</a></div></div></div>"),a(".smk-confirm").animate({top:"-5px",opacity:"1"},400),a(".smk-cancel").click(function(a){a.preventDefault(),d(),c(!1)}),a(".smk-accept").click(function(a){a.preventDefault(),d(),c(!0)})},a.smkFloat=function(a){return"string"==typeof a&&(a=a.replace(",","")),parseFloat(a)},a.smkCurrency=function(a,b){var c=a.replace(",","");if(""===c||isNaN(c))return 0;c=Math.round(parseFloat(c)*Math.pow(10,2))/Math.pow(10,2),b=b||"",c+="";var d=c.split("."),e=d[0],f=d.length>1?"."+d[1]:".00";f+="00",f=f.substr(0,3);for(var g=/(\d+)(\d{3})/;g.test(e);)e=e.replace(g,"$1,$2");return b+e+f},a.smkGetURL=function(b){var c=a(location).attr("protocol"),d=a(location).attr("hostname"),e=a(location).attr("pathname");e=e.split("/");var f=e.pop();""!==f&&(file=f.split("."),file.length<2&&e.push(f)),e=e.slice(0,b+1),e=e.join("/");var g=c+"//"+d+e;return g},a.smkDatePicker=function(a){if(""!==a){var b=(a.getDate()<10?"0":"")+a.getDate(),c=(a.getMonth()+1<10?"0":"")+(a.getMonth()+1),d=a.getFullYear();result=d+"-"+c+"-"+b}else result="";return result},a.smkDate=function(b){var c=a.smkDatePicker(new Date),d=a.extend({date:c,format:"yyyy-mm-dd",lang:"en"},a.smkDate.Languaje,b),e={en:{shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}},f=/\d+|[a-zA-z]/g,g=(d.date.replace(f,"\x00").split("\x00"),d.date.match(f));"es"==d.lang?(e=a.smkDate.Languaje,d.date=4==g[0].length?new Date(g[0],g[1]-1,g[2]):new Date(g[2],g[1]-1,g[0])):d.date=4==g[0].length?new Date(g[0],g[2]-1,g[1]):new Date(g[2],g[0]-1,g[1]);var h="";if("Invalid Date"!=d.date){var i={d:d.date.getDate(),dd:(d.date.getDate()<10?"0":"")+d.date.getDate(),m:d.date.getMonth()+1,mm:(d.date.getMonth()+1<10?"0":"")+(d.date.getMonth()+1),M:e[d.lang].shortMonthNames[d.date.getMonth()],MM:e[d.lang].monthNames[d.date.getMonth()],yyyy:d.date.getFullYear(),yy:d.date.getFullYear().toString().substring(2),hh:d.date.getHours(),mi:d.date.getMinutes(),ss:d.date.getSeconds()},j=/dd?|DD?|mm?|MM?|yy(?:yy)?/g,k=d.format.replace(j,"\x00").split("\x00"),l=d.format.match(j);a.each(l,function(a,b){h+=k[a]+i[b]})}else h="",console.log("Invalid Date");return h},a.smkDateDiff=function(b){var c=a.extend({fromDate:new Date,toDate:new Date,interval:"days"},b),d=1e3,e=60*d,f=60*e,g=24*f,h=7*g,i=new Date(c.fromDate),j=new Date(c.toDate),k=j-i;if(isNaN(k))return 0/0;switch(c.interval){case"years":return j.getFullYear()-i.getFullYear();case"months":return 12*j.getFullYear()+j.getMonth()-(12*i.getFullYear()+i.getMonth());case"weeks":return Math.floor(k/h);case"days":return Math.floor(k/g);case"hours":return Math.floor(k/f);case"minutes":return Math.floor(k/e);case"seconds":return Math.floor(k/d);default:return void 0}},a.smkScrolling=function(b){var c=a.extend({speed:1e3},b);a("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var b=a(this.hash);if(b=b.length?b:a("[name="+this.hash.slice(1)+"]"),b.length)return a("html,body").animate({scrollTop:b.offset().top},c.speed),!1}})},a.smkProgressBar=function(b){var c=a.extend({element:"body",status:"start"},b),d='<div class="smk-progressbar">';d+='<div class="progress">',d+='<div class="progress-bar" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">',d+='<span class="sr-only">0% Complete</span>',d+="</div></div></div>",a(c.element).prepend(a(d).fadeIn("fast")),"body"==c.element?a(".smk-progressbar").css("position","fixed"):(a(c.element).css("position","relative"),a(".smk-progressbar").css("position","absolute")),"start"==c.status?a(c.element+" .smk-progressbar .progress .progress-bar").width(50+30*Math.random()+"%"):"end"==c.status&&a(c.element+" .smk-progressbar .progress .progress-bar").width("110%").delay(200,function(){a(c.element+" .smk-progressbar").fadeOut("slow",function(){a(this).remove()})})},a.fn.smkFullscreen=function(){function b(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}var c='<a class="btn smk-fullscreen" href="#" data-toggle="tooltip" data-placement="bottom" title="Fullscreen"><span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span></a>';a(this).append(c),a(".smk-fullscreen").click(function(a){a.preventDefault(),b()});var d=function(){a(".smk-fullscreen").children(".glyphicon").toggleClass("glyphicon-fullscreen").toggleClass("glyphicon-resize-small")};document.addEventListener("fullscreenchange",d,!1),document.addEventListener("msfullscreenchange",d,!1),document.addEventListener("mozfullscreenchange",d,!1),document.addEventListener("webkitfullscreenchange",d,!1)},a.fn.smkPanel=function(b){var c=a.extend({hide:""},b),d=a(this),e=c.hide.replace(/\s/g,""),f=e.split(","),g=a(this).children(".panel-heading").children(".panel-title"),h="";h=g.length>0?"smk-btn-group-panel-title":"smk-btn-group-panel";var i='<div class="btn-group btn-group-sm pull-right '+h+'" role="group">';-1==a.inArray("min",f)&&(i+='<a class="btn smk-min" href="#"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></a>'),-1==a.inArray("remove",f)&&(i+='<a class="btn smk-remove" href="#"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>'),-1==a.inArray("full",f)&&(i+='<a class="btn smk-full" href="#"><span class="glyphicon glyphicon-resize-full" aria-hidden="true"></span></a>'),i+="</div>",a(this).children(".panel-heading").append(i),d.find(".smk-min").click(function(b){b.preventDefault();var c=a(this).parents(".panel-heading").siblings(".panel-body"),d=a(this).parents(".panel-heading").siblings(".panel-footer"),e=a(this).children(".glyphicon");a(d).slideToggle("fast"),a(c).slideToggle("fast",function(){e.toggleClass("glyphicon-minus").toggleClass("glyphicon-plus")})}),d.find(".smk-remove").click(function(b){b.preventDefault();var c=a(this).parents(".panel");c.fadeOut(400,function(){})}),d.find(".smk-full").click(function(b){b.preventDefault();var c=a(this).parents(".panel"),d=a(this).parents(".panel-heading").siblings(".panel-body"),e=a(this).children(".glyphicon"),f=a(this).siblings(".btn").children(".glyphicon-plus");c.hasClass("panel-full")?(c.removeClass("panel-full"),a(this).siblings(".btn").show(),1==f.length&&d.hide(),a("body").css({overflow:"auto"})):(c.addClass("panel-full"),a(this).siblings(".btn").hide(),1==f.length&&d.show(),a("body").css({overflow:"hidden"})),e.toggleClass("glyphicon-resize-full").toggleClass("glyphicon-resize-small")})}}(jQuery);!function(a){a.fn.smkValidate=function(b){var c=a.extend({lang:"en"},a.fn.smkValidate.Languaje,b),d={en:{textEmpty:"Required field",textEmail:"Enter a valid email",textAlphanumeric:"Only numbers and/or letters allowed",textNumber:"Only numbers are allowed",textNumberRange:"The numerical range must be greater than <b> {@} </b> and less than <b> {@} </b>",textDecimal:"Only decimal numbers are allowed",textCurrency:"Please enter a valid monetary amount",textSelect:"It is necessary that you select an option",textCheckbox:"It is necessary that you select an option",textLength:"The number of characters is equal to <b> {@} </b>",textRange:"The number of characters must be greater than <b> {@} </b> and less than <b> {@} </b>",textSPassDefault:"Minimum 4 characters",textSPassWeak:"Minimum 6 characters",textSPassMedium:"Minimum 6 characters and a number",textSPassStrong:"Minimum 6 characters a number and a capital"}};"en"!=c.lang&&(d=a.fn.smkValidate.Languaje);var e="",f="",g=!1;return a(":input",this).each(function(b,h){if("button"!=a(h).attr("type")){e=a(h),f=a(h).parents(".form-group");var i=a(h).attr("name"),j=a(h).val(),k=a(h).attr("type"),l=a(h).attr("smk-type"),m=h.tagName.toLowerCase(),n=a(h).attr("required"),o=a(h).attr("smk-strongPass"),p=a(h).attr("minlength"),q=a(h).attr("maxlength"),r=a(h).attr("smk-min"),s=a(h).attr("smk-max");if(a.smkRemoveError(e),"required"===n&&("text"===k||"textarea"===m||"password"===k||"email"===k)){if(""===j)return g=a.smkAddError(e,d[c.lang].textEmpty),!1;g=!0}if("required"===n&&"email"===k){var t=/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-]+\.[a-zA-Z0-9\-\.]+$/;if(!t.test(j))return g=a.smkAddError(e,d[c.lang].textEmail),!1;g=!0}if("required"===n&&"password"===k){var u="",v="";switch(o){case"weak":u=/^(?=.*[a-z0-9])\w{6,}$/,v=d[c.lang].textSPassWeak;break;case"medium":u=/^(?=.*\d)(?=.*[a-z])\w{6,}$/,v=d[c.lang].textSPassMedium;break;case"strong":u=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])\w{6,}$/,v=d[c.lang].textSPassStrong;break;default:u=/^(?=.*[a-z0-9])\w{4,}$/,v=d[c.lang].textSPassDefault}if(!u.test(j))return g=a.smkAddError(e,v),!1;g=!0}if("required"===n&&"select"===m){if(""===j)return g=a.smkAddError(e,d[c.lang].textSelect),!1;g=!0}if("required"===n&&("radio"===k||"checkbox"===k)){var w=a("input[name="+i+"]:checked").val();if(void 0===w)return g=a.smkAddError(e,d[c.lang].textCheckbox),!1;g=!0}if("alphanumeric"===l){var x=/^[a-z0-9]+$/i;if(!x.test(j))return g=a.smkAddError(e,d[c.lang].textAlphanumeric),!1;g=!0}if("number"===l){var y=/^\d+$/;if(!y.test(j))return g=a.smkAddError(e,d[c.lang].textNumber),!1;g=!0}if("decimal"===l){var z=/^\d+(?:\.\d{1,4})?$/;if(!z.test(j))return g=a.smkAddError(e,d[c.lang].textDecimal),!1;g=!0}if("currency"===l){var A=/^(?:\d+|\d{1,3}(?:,\d{3})*)(?:\.\d{1,4}){0,1}$/;if(!A.test(j))return g=a.smkAddError(e,d[c.lang].textCurrency),!1;g=!0}if("undefined"!=typeof p||"undefined"!=typeof q)if(p===q){if(j.length!=p&&j.length!=q){var B=a.smokeCustomizeText(d[c.lang].textLength,q);return g=a.smkAddError(e,B),!1}g=!0}else if(p!==q){if(j.length<p||j.length>q){var C=[];C[0]=parseInt(p-1),C[1]=parseInt(q)+1;var D=a.smokeCustomizeText(d[c.lang].textRange,C);return g=a.smkAddError(e,D),!1}g=!0}if("undefined"!=typeof r||"undefined"!=typeof s){if(r>j||j>s){var E=[];E[0]=parseInt(r-1),E[1]=parseInt(s)+1;var F=a.smokeCustomizeText(d[c.lang].textNumberRange,E);return g=a.smkAddError(e,F),!1}g=!0}}}),a(e).keyup(function(){""!==e.val()&&a.smkRemoveError(e)}),a(e).change(function(){""!==e.val()&&a.smkRemoveError(e)}),g},a.smkEqualPass=function(b,c,d){var e={en:{textEqualPass:"Passwords do not match"}};return void 0===d&&(d="en"),"en"!=d&&(e=a.smkEqualPass.Languaje),b=void 0!==a(b).val()?a(b).val():b,b!==a(c).val()?a.smkAddError(a(c),e[d].textEqualPass):!0},a.fn.smkClear=function(b){var c=a.extend({noClear:""},b),d=c.noClear.replace(/\s/g,""),e=d.split(",");return a(":input",this).each(function(){var b=this.type,c=this.tagName.toLowerCase();if("input"==c&&(c=b),a.inArray(b,e)<0&&a.inArray(c,e)<0){switch(b){case"text":case"password":case"email":case"number":case"hidden":this.value="";break;case"checkbox":case"radio":this.checked=!1}switch(c){case"textarea":this.value="";break;case"select":this.selectedIndex=-1,a(this).hasClass("select2")&&a(this).select2("val","")}}})},a.smkAddError=function(b,c){var d=a(b).parents(".form-group"),e=a(b).parent(),f=a(b).attr("type"),g=a(b).prop("tagName").toLowerCase(),h=a(b).attr("smk-text");(""===h||void 0===h)&&(h=c),void 0===f&&(f=g);var i='<i class="fa fa-times form-control-feedback smk-error-icon"></i>',j='<span class="smk-error-text">'+h+"</span>";return"select"==f?(d.addClass("has-feedback has-error smk-"+f),e.append(i+j)):"checkbox"==f||"radio"==f?(d.addClass("has-feedback has-error smk-"+f),e.parent().parent().append(j)):(d.addClass("has-feedback has-error"),e.append(i+j)),b.focus(),!1},a.smkRemoveError=function(b){var c=a(b).parents(".form-group");return c.find(".smk-error-text, .smk-error-icon").remove(),c.removeClass("has-error has-feedback"),!1},a.smokeCustomizeText=function(b,c){var d="";if("string"==typeof c)d=b.replace("{@}",c);else{var e=b.split("{@}");a.each(c,function(a,b){d+=e[a]+b}),d+=e[e.length-1]}return d};var b=0;a.smkAlert=function(c){function d(){g=setTimeout(function(){f.animate({opacity:"0",marginLeft:"100px",marginRight:"-100px"},300,function(){f.remove()})},1e3*e.time)}var e=a.extend({text:"Hola Mundo",type:"warning",icon:"fa-exclamation-circle",time:5,permanent:!1},c);switch(b++,e.type){case"warning":e.type="alert-warning",e.icon="fa-exclamation-circle";break;case"success":e.type="alert-success",e.icon="fa-check-circle";break;case"error":e.type="alert-danger",e.icon="fa-times-circle";break;case"info":e.type="alert-info",e.icon="fa-info-circle"}1==b&&a("body").append('<div class="smk-alert-content"></div>');var f=a('<div class="alert alert-dismissable '+e.type+' smk-alert"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><p><i class="fa '+e.icon+'"></i>&nbsp;&nbsp;'+e.text+"</p></div>");if(a(".smk-alert-content").prepend(f),f.animate({opacity:"1",marginTop:"20px"},300),e.permanent===!1){var g=0;a(f).mouseenter(function(){clearTimeout(g)}).mouseleave(function(){d()}),d()}},a.smkConfirm=function(b,c){function d(){a(".smk-confirm-back").fadeOut(200,function(){a(".smk-confirm-back").remove()}),a(".smk-confirm").animate({top:"-500px",opacity:"0"},400,function(){a(".smk-confirm").remove()})}var e=a.extend({text:"Estas seguro?",accept:"Aceptar",cancel:"Cancelar"},b);a("body").append('<div class="smk-confirm-back"><div class="panel panel-default smk-confirm"><div class="panel-body"><br>'+e.text+'<br><br></div><div class="panel-footer text-right"><a class="btn btn-default btn-sm smk-cancel" href="#" >'+e.cancel+'</a> <a class="btn btn-primary btn-sm smk-accept" href="#">'+e.accept+"</a></div></div></div>"),a(".smk-confirm").animate({top:"-5px",opacity:"1"},400),a(".smk-cancel").click(function(a){a.preventDefault(),d(),c(!1)}),a(".smk-accept").click(function(a){a.preventDefault(),d(),c(!0)})},a.smkFloat=function(a){return"string"==typeof a&&(a=a.replace(",","")),parseFloat(a)},a.smkCurrency=function(a,b){var c=a.replace(",","");if(""===c||isNaN(c))return 0;c=Math.round(parseFloat(c)*Math.pow(10,2))/Math.pow(10,2),b=b||"",c+="";var d=c.split("."),e=d[0],f=d.length>1?"."+d[1]:".00";f+="00",f=f.substr(0,3);for(var g=/(\d+)(\d{3})/;g.test(e);)e=e.replace(g,"$1,$2");return b+e+f},a.smkGetURL=function(b){var c=a(location).attr("protocol"),d=a(location).attr("hostname"),e=a(location).attr("pathname");e=e.split("/");var f=e.pop();""!==f&&(file=f.split("."),file.length<2&&e.push(f)),e=e.slice(0,b+1),e=e.join("/");var g=c+"//"+d+e;return g},a.smkDatePicker=function(a){if(""!==a){var b=(a.getDate()<10?"0":"")+a.getDate(),c=(a.getMonth()+1<10?"0":"")+(a.getMonth()+1),d=a.getFullYear();result=d+"-"+c+"-"+b}else result="";return result},a.smkDate=function(b){var c=a.smkDatePicker(new Date),d=a.extend({date:c,format:"yyyy-mm-dd",lang:"en"},a.smkDate.Languaje,b),e={en:{shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}},f=/\d+|[a-zA-z]/g,g=(d.date.replace(f,"\x00").split("\x00"),d.date.match(f));"es"==d.lang?(e=a.smkDate.Languaje,d.date=4==g[0].length?new Date(g[0],g[1]-1,g[2]):new Date(g[2],g[1]-1,g[0])):d.date=4==g[0].length?new Date(g[0],g[2]-1,g[1]):new Date(g[2],g[0]-1,g[1]);var h="";if("Invalid Date"!=d.date){var i={d:d.date.getDate(),dd:(d.date.getDate()<10?"0":"")+d.date.getDate(),m:d.date.getMonth()+1,mm:(d.date.getMonth()+1<10?"0":"")+(d.date.getMonth()+1),M:e[d.lang].shortMonthNames[d.date.getMonth()],MM:e[d.lang].monthNames[d.date.getMonth()],yyyy:d.date.getFullYear(),yy:d.date.getFullYear().toString().substring(2),hh:d.date.getHours(),mi:d.date.getMinutes(),ss:d.date.getSeconds()},j=/dd?|DD?|mm?|MM?|yy(?:yy)?/g,k=d.format.replace(j,"\x00").split("\x00"),l=d.format.match(j);a.each(l,function(a,b){h+=k[a]+i[b]})}else h="",console.log("Invalid Date");return h},a.smkDateDiff=function(b){var c=a.extend({fromDate:new Date,toDate:new Date,interval:"days"},b),d=1e3,e=60*d,f=60*e,g=24*f,h=7*g,i=new Date(c.fromDate),j=new Date(c.toDate),k=j-i;if(isNaN(k))return 0/0;switch(c.interval){case"years":return j.getFullYear()-i.getFullYear();case"months":return 12*j.getFullYear()+j.getMonth()-(12*i.getFullYear()+i.getMonth());case"weeks":return Math.floor(k/h);case"days":return Math.floor(k/g);case"hours":return Math.floor(k/f);case"minutes":return Math.floor(k/e);case"seconds":return Math.floor(k/d);default:return void 0}},a.smkScrolling=function(b){var c=a.extend({speed:1e3},b);a("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var b=a(this.hash);if(b=b.length?b:a("[name="+this.hash.slice(1)+"]"),b.length)return a("html,body").animate({scrollTop:b.offset().top},c.speed),!1}})},a.smkProgressBar=function(b){var c=a.extend({element:"body",status:"start"},b),d='<div class="smk-progressbar">';d+='<div class="progress">',d+='<div class="progress-bar" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">',d+='<span class="sr-only">0% Complete</span>',d+="</div></div></div>",a(c.element).prepend(a(d).fadeIn("fast")),"body"==c.element?a(".smk-progressbar").css("position","fixed"):(a(c.element).css("position","relative"),a(".smk-progressbar").css("position","absolute")),"start"==c.status?a(c.element+" .smk-progressbar .progress .progress-bar").width(50+30*Math.random()+"%"):"end"==c.status&&a(c.element+" .smk-progressbar .progress .progress-bar").width("110%").delay(200,function(){a(c.element+" .smk-progressbar").fadeOut("slow",function(){a(this).remove()})})},a.fn.smkFullscreen=function(){function b(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}var c='<a class="btn smk-fullscreen" href="#" data-toggle="tooltip" data-placement="bottom" title="Fullscreen"><span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span></a>';a(this).append(c),a(".smk-fullscreen").click(function(a){a.preventDefault(),b()});var d=function(){a(".smk-fullscreen").children(".glyphicon").toggleClass("glyphicon-fullscreen").toggleClass("glyphicon-resize-small")};document.addEventListener("fullscreenchange",d,!1),document.addEventListener("msfullscreenchange",d,!1),document.addEventListener("mozfullscreenchange",d,!1),document.addEventListener("webkitfullscreenchange",d,!1)},a.fn.smkPanel=function(b){var c=a.extend({hide:""},b),d=a(this),e=c.hide.replace(/\s/g,""),f=e.split(","),g=a(this).children(".panel-heading").children(".panel-title"),h="";h=g.length>0?"smk-btn-group-panel-title":"smk-btn-group-panel";var i='<div class="btn-group btn-group-sm pull-right '+h+'" role="group">';-1==a.inArray("min",f)&&(i+='<a class="btn smk-min" href="#"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></a>'),-1==a.inArray("remove",f)&&(i+='<a class="btn smk-remove" href="#"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>'),-1==a.inArray("full",f)&&(i+='<a class="btn smk-full" href="#"><span class="glyphicon glyphicon-resize-full" aria-hidden="true"></span></a>'),i+="</div>",a(this).children(".panel-heading").append(i),d.find(".smk-min").click(function(b){b.preventDefault();var c=a(this).parents(".panel-heading").siblings(".panel-body"),d=a(this).parents(".panel-heading").siblings(".panel-footer"),e=a(this).children(".glyphicon");a(d).slideToggle("fast"),a(c).slideToggle("fast",function(){e.toggleClass("glyphicon-minus").toggleClass("glyphicon-plus")})}),d.find(".smk-remove").click(function(b){b.preventDefault();var c=a(this).parents(".panel");c.fadeOut(400,function(){})}),d.find(".smk-full").click(function(b){b.preventDefault();var c=a(this).parents(".panel"),d=a(this).parents(".panel-heading").siblings(".panel-body"),e=a(this).children(".glyphicon"),f=a(this).siblings(".btn").children(".glyphicon-plus");c.hasClass("panel-full")?(c.removeClass("panel-full"),a(this).siblings(".btn").show(),1==f.length&&d.hide(),a("body").css({overflow:"auto"})):(c.addClass("panel-full"),a(this).siblings(".btn").hide(),1==f.length&&d.show(),a("body").css({overflow:"hidden"})),e.toggleClass("glyphicon-resize-full").toggleClass("glyphicon-resize-small")})}}(jQuery);
